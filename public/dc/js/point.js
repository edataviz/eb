var point_key = '';var points = readData('points');var point_id = readParameter('point_id');var point_path = readParameter('point_path');var route_path = readParameter('route_path');function loadData() {    var html = '';    $('#path').html('<span class="clickable" onclick="window.location.assign(\'route.html\')">'+route_path + "</span> > " + point_path);    for (var pnt in points) {        if (points[pnt].id == point_id) {            point_key = pnt;            for (var obj_type in points[pnt]) {                switch (obj_type) {                    case "FL":						html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" id="FL" onclick="viewDetails(' + point_id + ', this)">FLOW <div class="ui-li-count ui-body-inherit">' + points[pnt][obj_type] + '</div></a></li>';                        break;                    case "EU":						html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" id="EU" onclick="viewDetails(' + point_id + ', this)">ENERGY UNIT <div class="ui-li-count ui-body-inherit">' + points[pnt][obj_type] + '</div></a></li>';                        break;                    case "TA":						html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" id="TA" onclick="viewDetails(' + point_id + ', this)">TANK <div class="ui-li-count ui-body-inherit">' + points[pnt][obj_type] + '</div></a></li>';                        break;                    case "EQ":						html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" id="EQ" onclick="viewDetails(' + point_id + ', this)">EQUIPMENT <div class="ui-li-count ui-body-inherit">' + points[pnt][obj_type] + '</div></a></li>';                        break;                    default:                        break;                }            }			break;        }    }    $('#details').html(html);}function viewDetails(id, obj) {    writeParameter('object_type', obj["id"]);    var url = 'object.html';    window.location.assign(url);}function completePoint() {    points[point_key].complete = true;    saveData('points', points);	alert("Point completed.");}function resetPoint() {if(!confirm('All data of this point will be removed. Do you really want to continue?'))	return;	points[point_key].complete = false;    saveData('points', points);		var object_details = getObjectDetails();	for(var fld in object_details){		var ks=fld.split('_');		if(points[point_key].objects.indexOf(ks[0]+'_'+ks[1])>=0)			delete object_details[fld];	}	saveData('object_details', object_details);	}