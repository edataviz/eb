var points = readData('points');var object_attrs = readData('object_attrs');var object_details = readData('object_details');var route_id = readParameter("route_id");var route_path = readParameter("route_path");function loadData() {    var html = '';    $("#path").html(route_path);    for (var pnt in points) {        if (points[pnt].route_id == route_id) {			if(points[pnt].complete)				html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" onclick="javascript: viewDetails(' + points[pnt].id + ', this)">' + points[pnt].name + '<div class="ui-li-count ui-body-inherit" style="background-color: green;color: white;text-shadow: none !important;border: none;">&#10003;</div></a></li>';			else				html = html + '<li class="ui-li-has-count ui-first-child ui-last-child" style="list-style-type: none;"><a href="#" class="ui-btn" onclick="javascript: viewDetails(' + points[pnt].id + ', this)">' + points[pnt].name + '<div class="ui-li-count ui-body-inherit" style="background-color: white;color: white;text-shadow: none !important;border: none;"></div></a></li>';        }    }    $("#details").html(html);}function viewDetails(id, obj) {    writeParameter('point_id', id);    writeParameter('point_path', obj["innerText"]);    var url = "point.html";    window.location.assign(url);}function resetRoute() {if(!confirm('All data of this route will be removed. Do you want to continue?'))	return;		var keys = [];	for(var pnt in points){		if(points[pnt].route_id == route_id) {			points[pnt].complete = false;			keys = keys.concat(points[pnt].objects);		}	}	var object_details = getObjectDetails();	for(var fld in object_details){		var ks=fld.split('_');		if(keys.indexOf(ks[0]+'_'+ks[1])>=0)			delete object_details[fld];	}		saveData('points', points);	saveData('object_details', object_details);}